<h3>Empresas</h3>

<p-table #dt [value]="empresas" [columns]="cols" [(selection)]="empresasSelect" dataKey="RTN" styleClass="p-datatable-empresas" [rowHover]="true" [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading" [paginator]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0" [globalFilterFields]="['nombreComercialEmpresa','RTN','estado']">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th style="width: 80px;">Logo
            </th>
            <th pSortableColumn="nombreComercialEmpresa">Nombre comercial
                <p-sortIcon field="nombreComercialEmpresa"></p-sortIcon>
            </th>
            <th pSortableColumn="RTN">RTN
                <p-sortIcon field="RTN"></p-sortIcon>
            </th>
            <th pSortableColumn="direccion">Direccion
                <p-sortIcon field="direccion"></p-sortIcon>
            </th>
            <th pSortableColumn="telefono">Telefono
                <p-sortIcon field="telefono"></p-sortIcon>
            </th>
            <th pSortableColumn="estado">Estado
                <p-sortIcon field="estado"></p-sortIcon>
            </th>
            <th style="width:4rem"></th>
        </tr>
        <tr>
            <th>
                <!--  LOGO-->
            </th>
            <th>
                <p-columnFilter matchMode="contains" [showMenu]="false" type="text" field="nombreComercialEmpresa" placeholder="Nombre Comercial"></p-columnFilter>
                <!-- <input pInputText type="text" (input)="dt.filter($event.target.value,'nombreComercialEmpresa','startsWith')" placeholder="Nombre comercial"> -->
            </th>
            <th>
                <p-columnFilter matchMode="contains" [showMenu]="false" type="text" field="RTN" placeholder="RTN"></p-columnFilter>
                <!-- <input pInputText type="text" (input)="dt.filter($event.target,'RTN','startsWith')" placeholder="RTN"> -->
            </th>
            <th>
                <p-columnFilter matchMode="contains" [showMenu]="false" type="text" field="direccion" placeholder="Direccion"></p-columnFilter>
                <!-- <input pInputText type="text" (input)="dt.filter($event.target,'direccion','startsWith')" placeholder="Dirección"> -->
            </th>

            <th>
                <p-columnFilter matchMode="contains" [showMenu]="false" type="text" field="telefono" placeholder="Telefono"></p-columnFilter>
                <!-- <input pInputText type="text" (input)="dt.filter($event.target,'telefono','startsWith')" placeholder="Telefono"> -->
            </th>
            <th>
                <p-columnFilter field="estado" matchMode="equals" [showMenu]="false">
                    <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                        <p-dropdown [ngModel]="value" [options]="estados" (onChange)="filter($event.value)" placeholder="Any" [showClear]="true">
                            <ng-template let-option pTemplate="item">
                                <span [class]="'customer-badge status-' + option.value">{{option.label}}</span>
                            </ng-template>
                        </p-dropdown>
                    </ng-template>
                </p-columnFilter>
            </th>
            <th>

            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-empresa let-columns="columns">
        <tr>
            <td>
                <img style="width: 60px; height: 60px;" [src]="empresa.logo" alt="">
            </td>
            <td>
                <span class="p-column-title">Nombre comercial</span> {{ empresa.nombreComercialEmpresa }}
            </td>
            <td>
                <span class="p-column-title">RTN</span> {{empresa.RTN}}
            </td>
            <td>
                <span class="p-column-title">Dirección</span> {{empresa.direccion}}
            </td>

            <td>
                <span class="p-column-title">Telefono</span> {{empresa.telefono}}
            </td>
            <td>
                <span class="p-column-title">Estado</span>
                <i class="pi" [ngClass]="{'true-icon pi-check-circle': empresa.estado == 'activo', 'false-icon pi-times-circle': empresa.estado == 'inactivo'}"></i> {{ empresa.estado }}
            </td>
            <td>
                <a style="text-decoration: none;" pButton pRipple icon="pi pi-arrow-right" [routerLink]="['/admin/empresas', empresa._id]"></a>
            </td>

        </tr>
    </ng-template>

</p-table>